{{> header}}
<div class="wrapper">
    <input class="radio" id="one" name="group" type="radio" {{^link}}checked{{/link}}>
    <input class="radio" id="two" name="group" type="radio">
    <input class="radio" id="three" name="group" type="radio">
    {{#link}}<input class="radio" id="four" name="group" type="radio" checked>{{/link}}
    <div class="tabs">
        <label class="tab" id="one-tab" for="one">Shorten URL</label>
        <label class="tab" id="two-tab" for="two">Share text</label>
        <label class="tab" id="three-tab" for="three">Share file</label>
        {{#link}}<label class="tab" id="four-tab" for="four">Link</label>{{/link}}
    </div>
    <div class="panels">
        <div class="panel" id="one-panel">
            <form action="http://{{server}}" method="post">
                <p>Paste in a long URL to generate a short link. It should begin with <code>https://</code> or <code>http://</code>.</p>
                <div class="form-group">
                    <label for="url-input">URL to shorten</label>
                    <input type="url" name="content" class="form-control is-valid boxsizingBorder" id="url-input" placeholder="http://example.com" required>
                </div>
                {{> expirationDate}}
                <div class="form-group">
                    <label for="delete-on-view-input">Delete on view</label>
                    <input type="checkbox" class="form-control" id="delete-on-view-input" name="deleteOnView" value="true">
                </div>
                <input type="hidden" name="type" value="link"/>
                <button type="submit" class="btn btn-primary">Create link</button>
            </form>  
        </div>
        <div class="panel" id="two-panel">
            <form action="http://{{server}}" method="post">
                <p>Paste in the text or code you wish to share. The generated link will display the text. You can paste up to around 500,000 characters, or about the length of the Mary Shelley novel Frankenstein.</p>
                <div class="form-group">
                    <label for="text-input">Text or code to share</label>
                    <textarea rows=5 maxlength=500000 name="content" class="form-control is-valid boxsizingBorder" id="text-input" placeholder="Paste or type your text/code here..." required></textarea>
                </div>
                <div class="form-group">
                    <label for="text-type">Type of text</label>
                    <select name="textType" class="form-control" id="text-type" value="plain">
                        <option value="plain">Plain text</option>
                        <option value="ada">Ada</option>
                        <option value="apache">Apache</option>
                        <option value="bash">Bash</option>
                        <option value="cs">C#</option>
                        <option value="c">C</option>
                        <option value="cpp">C++</option>
                        <option value="css">CSS</option>
                        <option value="clojure">Clojure</option>
                        <option value="coffee">CoffeeScript</option>
                        <option value="d">D</option>
                        <option value="dart">Dart</option>
                        <option value="diff">Diff</option>
                        <option value="django">Django</option>
                        <option value="dockerfile">Dockerfile</option>
                        <option value="elm">Elm</option>
                        <option value="erlang">Erlang</option>
                        <option value="fs">F#</option>
                        <option value="fortran">Fortran</option>
                        <option value="go">Go</option>
                        <option value="graphql">GraphQL</option>
                        <option value="html">HTML/XML</option>
                        <option value="haskell">Haskell</option>
                        <option value="json">JSON</option>
                        <option value="java">Java</option>
                        <option value="javascript">Javascript</option>
                        <option value="julia">Julia</option>
                        <option value="kotlin">Kotlin</option>
                        <option value="tex">LaTeX</option>
                        <option value="lisp">Lisp</option>
                        <option value="lua">Lua</option>
                        <option value="makefile">Makefile</option>
                        <option value="markdown">Markdown</option>
                        <option value="nginx">Nginx</option>
                        <option value="nim">Nim</option>
                        <option value="objectivec">Objective C</option>
                        <option value="php">PHP</option>
                        <option value="perl">Perl</option>
                        <option value="prolog">Prolog</option>
                        <option value="python">Python</option>
                        <option value="r">R</option>
                        <option value="ruby">Ruby</option>
                        <option value="rust">Rust</option>
                        <option value="scss">SCSS</option>
                        <option value="sql">SQL</option>
                        <option value="scala">Scala</option>
                        <option value="scheme">Scheme</option>
                        <option value="swift">Swift</option>
                        <option value="typescript">TypeScript</option>
                        <option value="x86asm">x86 assembly</option>
                        <option value="yaml">YAML</option>
                    </select>
                </div>
                {{> expirationDate}}
                <div class="form-group">
                    <label for="delete-on-view-input">Delete on view</label>
                    <input type="checkbox" class="form-control" id="delete-on-view-input" name="deleteOnView" value="true">
                </div>
                <div class="form-group">
                    <label for="raw-input">Display as raw</label>
                    <input type="checkbox" class="form-control" id="raw-input" name="raw" value="true">
                </div>
                <input type="hidden" name="type" value="text"/>
                <button type="submit" class="btn btn-primary">Create link</button>
            </form>
        </div>
        <div class="panel" id="three-panel">
            <form action="http://{{server}}" method="post" enctype="multipart/form-data">
                <p>Choose the file you wish to host. The generated link will display the file either as an image, or as a downloadable link. You can only upload files smaller than 10 MB.</p>
                <div class="form-group">
                    <label for="file-input">File to share</label>
                    
                    <input type="file" name="content" class="form-control is-valid" id="file-input" required>
                </div>
                {{> expirationDate}}
                <div class="form-group">
                    <label for="delete-on-view-input">Delete on view</label>
                    <input type="checkbox" class="form-control" id="delete-on-view-input" name="deleteOnView" value="true">
                </div>
                <div class="form-group">
                    <label for="raw-input">Direct download</label>
                    <input type="checkbox" class="form-control" id="raw-input" name="raw" value="true">
                </div>
                <input type="hidden" name="type" value="file"/>
                <button type="submit" class="btn btn-primary">Create link</button>
            </form>
        </div>
        {{#link}}
            <div class="panel" id="four-panel">
                <h2>
                    Link to {{#text}}text{{/text}}{{^text}}<span id="header-content">{{link.content}}</span>{{/text}}
                </h2>
                <dl>
                    <div class="definition">
                        <dt>Created on:</dt>
                        <dd>{{link.createdOn}}
                    </div>
                    {{#link.expiresOn}}
                    <div class="definition">
                        <dt>Link expires:</dt>
                        <dd>{{link.expiresOn}}</dd>
                    </div>
                    {{/link.expiresOn}}
                    <div class="definition">
                        <dt>Delete on view:</dt>
                        <dd>{{link.deleteOnView}}</dd>
                    </div>
                    {{#text}}
                    <div class="definition">
                        <dt>Display as raw:</dt>
                        <dd>{{link.raw}}</dd>
                    </div>
                    {{/text}}
                    {{#file}}
                    <div class="definition">
                        <dt>Direct download:</dt>
                        <dd>{{link.raw}}</dd>
                    </div>
                    {{/file}}
                    <div class="definition">
                        <dt>QR code:</dt>
                        <dd><canvas id="qr-code"></canvas></dd>
                    </div>
                </dl>
                <div id="content">
                    <div id="link-container">
                        <div id="link-label">Link</div>
                        <div id="link-text">{{server}}/{{link.uid}}</div>
                        <a id="link-anchor" href="#" onclick=copyContent("hidden-link")>Copy</a>
                    </div>
                    <div id="content-links">
                        {{#text}}<a href="#" onclick=copyContent("hidden-content")>Copy Text</a>
                        <a href="#" id="download">Download RAW</a>{{/text}}
                    </div>
                    {{#text}}<code id="content-text" class="hljs">{{#rows}}<div>{{.}}</div>{{/rows}}</code>{{/text}}
                    {{#file}}
                        <a id="content-file" href="http://{{server}}/{{link.uid}}/file">
                            {{#isImage}}
                                <img id="content-image" src="./{{link.uid}}/file" alt="Image {{link.content}}"/>
                            {{/isImage}}
                            {{^isImage}}
                                <img id="content-file-icon" src="./images/file.png" alt="File icon"/>
                                <div id="content-file-name">{{link.content}}</div>
                            {{/isImage}}
                        </a>
                    {{/file}}
                    <textarea id="hidden-content">{{link.content}}</textarea>
                    <textarea id="hidden-link">http://{{server}}/{{link.uid}}</textarea>
                </div>
            </div>
        {{/link}}
  </div>
</div>
{{> footer}}
